---
nav: Guide
group:
  title: Plug-in functionality
  order: 3
title: Snapshot
order: 12
toc: content
---

# Snapshot

## Exporting images

### How to use

**First step**: Register the plugin

```jsx | purex | pure
import LogicFlow from "@logicflow/core";
import { Snapshot } from "@logicflow/extension";

LogicFlow.use(Snapshot);
```

**Step 2**.
With the first step, register the plugin with `LogicFlow` so that there is an additional instance method on the `LogicFlow` instance lf.getSnapshot
```jsx | purex | pure
const lf = new LogicFlow({
  container: document.querySelector("#graph"),
  width: 700,
  height: 600,
});
// It can be triggered in any way, and then the plotted graphic is downloaded to a local disk
document.getElementById("download").addEventListener("click", () => {
  lf.getSnapshot();
  // or version 1.1.13
  // lf.extension.snapshot.getSnapshot()
});
```

It is worth mentioning: the downloaded images intercepted by this plugin will not be affected by the offset and scaling.

## Export xml

1.0.7 New

LogicFlow generates data in json format by default, there may be some process engines that require xml format data from the front-end. `@logicflow/extension` provides `lfJson2Xml` and `lfXml2Json` plugins to convert json and xml to each other.

```jsx | purex | pure
import LogicFlow from "@logicflow/core";
import { lfJson2Xml, lfXml2Json } from "@logicflow/extension";

const lf = new LogicFlow({
  // ...
});
const data = lfJson2Xml(jsonData);
lf.render(data);
const xml = lfJson2Xml(lf.getGraphData());
```

### Customized css download

In order to keep the image generated by the flowchart consistent with the effect on the canvas, the `snapshot` plugin will load all the css rules of the current page and clone them to the canvas by default, but it may cause an error due to the cross domain of the CSS file, refer to issue[575](https://github.com/didi/LogicFlow/issues/575). You can modify `useGlobalRules` to disable loading all css rules, and then customize the download flowchart attributes via `customCssRules`.

```jsx | pure
lf.extension.snapshot.useGlobalRules = false;
lf.extension.snapshot.customCssRules = `
    .lf-node-text-auto-wrap-content{
      line-height: 1.2;
      background: transparent;
      text-align: center;
      word-break: break-all;
      width: 100%;
    }
    .lf-canvas-overlay {
      background: red;
    }
  `;
```

### example

<a href="https://codesandbox.io/embed/logicflow-base21-o3vqi?fontsize=14&hidenavigation=1&theme=dark&view=preview" target="_blank"> Go to CodeSandbox for examples </a>
